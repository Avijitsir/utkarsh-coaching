<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quiz Admin Panel</title>
    <link rel="stylesheet" href="admin.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.10/dist/katex.min.css">
    <script src="https://cdn.jsdelivr.net/npm/katex@0.16.10/dist/katex.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/katex@0.16.10/dist/contrib/auto-render.min.js"></script>
</head>
<body>

    <div class="container">
        <h1>‡¶ï‡ßÅ‡¶á‡¶ú ‡¶ï‡¶®‡ßç‡¶ü‡ßç‡¶∞‡ßã‡¶≤ ‡¶™‡ßç‡¶Ø‡¶æ‡¶®‡ßá‡¶≤</h1>
        <div id="status-message"></div>

        <div class="form-section">
            <h2>‡ßß. ‡¶ï‡ßÅ‡¶á‡¶ú ‡¶∏‡ßá‡¶ü‡¶ø‡¶Ç‡¶∏</h2>
            <div class="input-group">
                <input type="text" id="quiz-id-input" placeholder="Quiz ID (ex: gk_test_01)">
                <button id="load-quiz-btn" class="secondary-btn">‡¶≤‡ßã‡¶° ‡¶ï‡¶∞‡ßÅ‡¶®</button>
            </div>
            
            <input type="text" id="quiz-title-input" placeholder="‡¶ï‡ßÅ‡¶á‡¶ú‡ßá‡¶∞ ‡¶®‡¶æ‡¶Æ (Title)">

            <div style="display:grid; grid-template-columns: repeat(4, 1fr); gap:10px; margin-top:10px;">
                <div>
                    <label>Time (Min)</label>
                    <input type="number" id="time-input" placeholder="30">
                </div>
                <div>
                    <label>Per Question (+)</label>
                    <input type="number" id="marks-input" placeholder="1">
                </div>
                <div>
                    <label>Negative (-)</label>
                    <input type="number" id="negative-input" placeholder="0.25">
                </div>
                <div>
                    <label>Pass Mark (%)</label>
                    <input type="number" id="pass-mark-input" placeholder="40">
                </div>
            </div>
        </div>

        <div class="form-section" id="question-form">
            <h2>‡ß®. ‡¶™‡ßç‡¶∞‡¶∂‡ßç‡¶® ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡ßÅ‡¶®</h2>
            <textarea id="question-text-input" rows="3" placeholder="‡¶™‡ßç‡¶∞‡¶∂‡ßç‡¶® ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶®... (Math: \( x^2 \))"></textarea>

            <div class="options-grid">
                <div><label>Option A</label><input type="text" id="option1-input"></div>
                <div><label>Option B</label><input type="text" id="option2-input"></div>
                <div><label>Option C</label><input type="text" id="option3-input"></div>
                <div><label>Option D</label><input type="text" id="option4-input"></div>
            </div>

            <label class="correct-answer-label">‡¶∏‡¶†‡¶ø‡¶ï ‡¶â‡¶§‡ßç‡¶§‡¶∞ ‡¶ï‡ßã‡¶®‡¶ü‡¶ø?</label>
            <select id="correct-option-select">
                <option value="">‡¶¨‡¶æ‡¶õ‡¶æ‡¶á ‡¶ï‡¶∞‡ßÅ‡¶®...</option>
                <option value="0">Option A</option>
                <option value="1">Option B</option>
                <option value="2">Option C</option>
                <option value="3">Option D</option>
            </select>

            <label style="margin-top:15px; color:#2e7d32;">‡¶¨‡¶ø‡¶∏‡ßç‡¶§‡¶æ‡¶∞‡¶ø‡¶§ ‡¶∏‡¶Æ‡¶æ‡¶ß‡¶æ‡¶® (Explanation):</label>
            <textarea id="explanation-input" rows="2" placeholder="‡¶â‡¶§‡ßç‡¶§‡¶∞‡ßá‡¶∞ ‡¶¨‡ßç‡¶Ø‡¶æ‡¶ñ‡ßç‡¶Ø‡¶æ ‡¶¶‡¶ø‡¶®..."></textarea>

            <button id="add-question-btn">‡¶§‡¶æ‡¶≤‡¶ø‡¶ï‡¶æ‡ßü ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡ßÅ‡¶®</button>
            <button id="update-question-btn" style="display:none; background-color:#ffc107; color:black;">‡¶Ü‡¶™‡¶°‡ßá‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®</button>
        </div>

        <div class="preview-section">
            <h2 id="questions-list-header">‡¶™‡ßç‡¶∞‡¶∂‡ßç‡¶® ‡¶§‡¶æ‡¶≤‡¶ø‡¶ï‡¶æ (0)</h2>
            <div id="questions-container"></div>
        </div>

        <div class="save-section">
            <button id="save-quiz-btn">üíæ ‡¶∏‡ßá‡¶≠ ‡¶è‡¶¨‡¶Ç ‡¶≤‡¶ø‡¶Ç‡¶ï ‡¶§‡ßà‡¶∞‡¶ø ‡¶ï‡¶∞‡ßÅ‡¶®</button>
            <div id="share-link-box" style="display:none; margin-top:20px; background:#e8f5e9; padding:15px;">
                <input type="text" id="generated-link" style="width:100%; font-weight:bold;" readonly>
                <button onclick="copyToClipboard()" style="background:#2e7d32; margin-top:10px;">üìã ‡¶ï‡¶™‡¶ø ‡¶≤‡¶ø‡¶Ç‡¶ï</button>
            </div>
        </div>
    </div>

    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-database.js"></script>
    <script src="admin.js"></script>
</body>
</html>
